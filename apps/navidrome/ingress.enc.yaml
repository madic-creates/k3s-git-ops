apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    name: navidrome
    namespace: media
spec:
    entryPoints:
        - websecure
    routes:
        - match: ENC[AES256_GCM,data:w7vfFUkQGEwoYR6jW244u5YW8EkrNUt95pjsH1Uvjg1ZXiPAf1+ccx6FH/ULa/t+kQ==,iv:bstpTh7U7CabF5u4yB3JsYRvbZpAgRepdSkRFs3SrWw=,tag:4JIRLpWJR0Nrwv073cyFHg==,type:str]
          kind: Rule
          middlewares:
            - name: redirect
              namespace: traefik
            - name: forwardauth-authelia
              namespace: authelia
          services:
            - name: navidrome
              port: 4533
          observability:
            accessLogs: true
    tls: {}
sops:
    age:
        - recipient: age1d2g7tgqpfvxulsusn3m608h60h2hne7yqwv5nh5nd24z6h0hgq0skjkhw8
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBnS0ZMRkVJZnR1bWx1Qnli
            YVhXZ2NwVzJQVVR5MzBaS2puOU52eUhCZGxrCnVscWZHSmlPQ3BYQW5YdEUvUDJa
            cDd5N01IOENIMDZzcHJ6VWVRUXhONnMKLS0tIE5ZY0hqc3BtQm5SUGxscG1BLzdp
            dDRtYjl2VXNoUkM4T1dxbzF3ZkZxaGcK+FIOuu6ms7j78iy0yXycc/PdrhPlxhpE
            +FK9TieH2lPMlqi2o6Y/kc8prIZudamgVSkeMDUPgmO+rMsKJfwHSw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1q522xtgjrmvr43w7um5rh02ta3yfns635680hz4m7uhw0nfqj5zqgxnz27
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAvY0RWb255MjU4UjVNZmQw
            dFdVVmUrWFlKNUprbERJaUtFZTJpeWlBdTM4CmRZcGJmaEl4S29MZW5sNElXWWdU
            OWZQZlBBdVRFZ25hYlF3Ri9KNW9EYlkKLS0tIGZFUDV1bTdCZWFQRXFleE5Za3Iv
            Ni8rMnRtNDVTMnBDNEh5RXRVV3huZ0kKYnua/Wt/C+/QsUMRgdLvNHmah2770AHY
            AVk9+TFBhV4CbngGjZB8azO2hGdhS07mK/Bkmz59gxYojEykbN32dw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-10-18T18:35:41Z"
    mac: ENC[AES256_GCM,data:q9Txv5L+Y9qnJUjh1d86YrG2tQX+/RjMb3ipH5kjjpGoxyp/VQ4J5ZzqK2TpVjh96O9ue0mvmFoF3ak1iHBenJy1gS6C9NikS0ErZWmK5IiJNUBfJIAb+uB8QmNlPkx1w4QslskH/OVJ4PRx/P3oqrYL70yn5vqJFa8c0iA33Ew=,iv:1hSv1Hl/CzAKIj6rzWU6UNEw68mXthELUQOWH0qbDTE=,tag:WbC3KHr+SWgDpWKnSEWUpQ==,type:str]
    encrypted_regex: ^(data|stringData|email|dnsNames|.*(H|h)osts?|hostname|username|password|url|issuer|argocdServerAdminPassword|oidc.config|commonName|literals|.*awsAccessKeyId|.*awsSecretAccessKey|.*defaultAdminPassword|apiToken|accountId|rootPassword|replicationPassword|adminPassword|root_url|client_secret|auth_url|api_url|PIHOLE_DOMAIN|TUNNEL_DNS_UPSTREAM|customDnsEntries|securityTokenKey|emailRecipients|.*provider_url|.*redirect_url|.*accesskeyEncryption|SEMAPHORE_WEB_ROOT|token|cookieEncryption|cookieHash|^ldap|.*match)$
    version: 3.11.0
---
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    name: navidrome-subsonic
    namespace: media
spec:
    entryPoints:
        - websecure
    routes:
        - match: ENC[AES256_GCM,data:pkSVNEArYM5yDVE5XyD+xWYXWe3uE+FsNWZqrQMVCxWka3v1j7xuqgVmXBV+UfLId1ngt0scdTITrumwfHljoGKhHfDjZpxkd1wvmH1RikTbA1g=,iv:O9ZkJ3lhgZymD59ovPpXVmkJxDaQsrKC2BrLK9c0iUo=,tag:X3Z1l19jIeuFHUPlizoqdw==,type:str]
          kind: Rule
          middlewares:
            - name: redirect
              namespace: traefik
            - name: authelia-forwardauth-authelia-basicauth
              namespace: authelia
          services:
            - name: navidrome
              port: 4533
          observability:
            accessLogs: true
    tls: {}
sops:
    age:
        - recipient: age1d2g7tgqpfvxulsusn3m608h60h2hne7yqwv5nh5nd24z6h0hgq0skjkhw8
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBnS0ZMRkVJZnR1bWx1Qnli
            YVhXZ2NwVzJQVVR5MzBaS2puOU52eUhCZGxrCnVscWZHSmlPQ3BYQW5YdEUvUDJa
            cDd5N01IOENIMDZzcHJ6VWVRUXhONnMKLS0tIE5ZY0hqc3BtQm5SUGxscG1BLzdp
            dDRtYjl2VXNoUkM4T1dxbzF3ZkZxaGcK+FIOuu6ms7j78iy0yXycc/PdrhPlxhpE
            +FK9TieH2lPMlqi2o6Y/kc8prIZudamgVSkeMDUPgmO+rMsKJfwHSw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1q522xtgjrmvr43w7um5rh02ta3yfns635680hz4m7uhw0nfqj5zqgxnz27
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAvY0RWb255MjU4UjVNZmQw
            dFdVVmUrWFlKNUprbERJaUtFZTJpeWlBdTM4CmRZcGJmaEl4S29MZW5sNElXWWdU
            OWZQZlBBdVRFZ25hYlF3Ri9KNW9EYlkKLS0tIGZFUDV1bTdCZWFQRXFleE5Za3Iv
            Ni8rMnRtNDVTMnBDNEh5RXRVV3huZ0kKYnua/Wt/C+/QsUMRgdLvNHmah2770AHY
            AVk9+TFBhV4CbngGjZB8azO2hGdhS07mK/Bkmz59gxYojEykbN32dw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-10-18T18:35:41Z"
    mac: ENC[AES256_GCM,data:q9Txv5L+Y9qnJUjh1d86YrG2tQX+/RjMb3ipH5kjjpGoxyp/VQ4J5ZzqK2TpVjh96O9ue0mvmFoF3ak1iHBenJy1gS6C9NikS0ErZWmK5IiJNUBfJIAb+uB8QmNlPkx1w4QslskH/OVJ4PRx/P3oqrYL70yn5vqJFa8c0iA33Ew=,iv:1hSv1Hl/CzAKIj6rzWU6UNEw68mXthELUQOWH0qbDTE=,tag:WbC3KHr+SWgDpWKnSEWUpQ==,type:str]
    encrypted_regex: ^(data|stringData|email|dnsNames|.*(H|h)osts?|hostname|username|password|url|issuer|argocdServerAdminPassword|oidc.config|commonName|literals|.*awsAccessKeyId|.*awsSecretAccessKey|.*defaultAdminPassword|apiToken|accountId|rootPassword|replicationPassword|adminPassword|root_url|client_secret|auth_url|api_url|PIHOLE_DOMAIN|TUNNEL_DNS_UPSTREAM|customDnsEntries|securityTokenKey|emailRecipients|.*provider_url|.*redirect_url|.*accesskeyEncryption|SEMAPHORE_WEB_ROOT|token|cookieEncryption|cookieHash|^ldap|.*match)$
    version: 3.11.0
---
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    name: navidrome-share
    namespace: media
spec:
    entryPoints:
        - websecure
    routes:
        - match: ENC[AES256_GCM,data:m5GPkoonRQFm/5Su4g7yloaqVXR+lasdu5Kjenmofa2B+ncnbP0lDIByOV8tNey9TI8c50Nh+w==,iv:s8AsIsArXDIrHY6qsmz3qy9RmMRxE1LxSZVwYU9P6rE=,tag:CAoe1Y3dZsPX89fk+yh97w==,type:str]
          kind: Rule
          middlewares:
            - name: redirect
              namespace: traefik
          services:
            - name: navidrome
              port: 4533
          observability:
            accessLogs: true
    tls: {}
sops:
    age:
        - recipient: age1d2g7tgqpfvxulsusn3m608h60h2hne7yqwv5nh5nd24z6h0hgq0skjkhw8
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBnS0ZMRkVJZnR1bWx1Qnli
            YVhXZ2NwVzJQVVR5MzBaS2puOU52eUhCZGxrCnVscWZHSmlPQ3BYQW5YdEUvUDJa
            cDd5N01IOENIMDZzcHJ6VWVRUXhONnMKLS0tIE5ZY0hqc3BtQm5SUGxscG1BLzdp
            dDRtYjl2VXNoUkM4T1dxbzF3ZkZxaGcK+FIOuu6ms7j78iy0yXycc/PdrhPlxhpE
            +FK9TieH2lPMlqi2o6Y/kc8prIZudamgVSkeMDUPgmO+rMsKJfwHSw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1q522xtgjrmvr43w7um5rh02ta3yfns635680hz4m7uhw0nfqj5zqgxnz27
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAvY0RWb255MjU4UjVNZmQw
            dFdVVmUrWFlKNUprbERJaUtFZTJpeWlBdTM4CmRZcGJmaEl4S29MZW5sNElXWWdU
            OWZQZlBBdVRFZ25hYlF3Ri9KNW9EYlkKLS0tIGZFUDV1bTdCZWFQRXFleE5Za3Iv
            Ni8rMnRtNDVTMnBDNEh5RXRVV3huZ0kKYnua/Wt/C+/QsUMRgdLvNHmah2770AHY
            AVk9+TFBhV4CbngGjZB8azO2hGdhS07mK/Bkmz59gxYojEykbN32dw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-10-18T18:35:41Z"
    mac: ENC[AES256_GCM,data:q9Txv5L+Y9qnJUjh1d86YrG2tQX+/RjMb3ipH5kjjpGoxyp/VQ4J5ZzqK2TpVjh96O9ue0mvmFoF3ak1iHBenJy1gS6C9NikS0ErZWmK5IiJNUBfJIAb+uB8QmNlPkx1w4QslskH/OVJ4PRx/P3oqrYL70yn5vqJFa8c0iA33Ew=,iv:1hSv1Hl/CzAKIj6rzWU6UNEw68mXthELUQOWH0qbDTE=,tag:WbC3KHr+SWgDpWKnSEWUpQ==,type:str]
    encrypted_regex: ^(data|stringData|email|dnsNames|.*(H|h)osts?|hostname|username|password|url|issuer|argocdServerAdminPassword|oidc.config|commonName|literals|.*awsAccessKeyId|.*awsSecretAccessKey|.*defaultAdminPassword|apiToken|accountId|rootPassword|replicationPassword|adminPassword|root_url|client_secret|auth_url|api_url|PIHOLE_DOMAIN|TUNNEL_DNS_UPSTREAM|customDnsEntries|securityTokenKey|emailRecipients|.*provider_url|.*redirect_url|.*accesskeyEncryption|SEMAPHORE_WEB_ROOT|token|cookieEncryption|cookieHash|^ldap|.*match)$
    version: 3.11.0
