apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    name: navidrome
    namespace: media
spec:
    entryPoints:
        - websecure
    routes:
        - match: ENC[AES256_GCM,data:sQeAJkIb8CtMu5uhMDJOEcu81ktzoCZksVMmS4G0yXaK00sZMrcc92TqxFGERp2G3w==,iv:EKrpSvJ/JFSACei4aESVJCrXeAtmAHHEwkB8lZ7uHUk=,tag:glhMf4XWivieOJL151LWxQ==,type:str]
          kind: Rule
          middlewares:
            - name: redirect
              namespace: traefik
            - name: forwardauth-authelia
              namespace: authelia
          services:
            - name: navidrome
              port: 4533
          observability:
            accessLogs: true
    tls: {}
sops:
    age:
        - recipient: age1d2g7tgqpfvxulsusn3m608h60h2hne7yqwv5nh5nd24z6h0hgq0skjkhw8
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBIWWY5eWVLUnNMdEVTU3Nw
            SmNGRVdlZGI4c0FncWlJSUlBbVNOemRJNmtZCldjRzlNT01sUDUwbG5FQ0VRTlJw
            RmhBbVg3YStpYVNwZFQvNVR5Qjc4QkkKLS0tIENEcFZVZ21VbmM0dkczUjlDSEhH
            a2JzUlYzUE1uanhvOEd6REUzQmZpc2cKv8Zgs9+CEUpq0QGS2BIZf/bfGR8ofMwL
            BVqxrXq/sYi7gwk0km846MBiXJfIc+RBkjYgOrKySm52oB3S2MsJsQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1q522xtgjrmvr43w7um5rh02ta3yfns635680hz4m7uhw0nfqj5zqgxnz27
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBSWHQ4NlpubE9IMG9HMUNO
            eG5yMnJRNlZYMlZJRkhiWTlKQ1FyYWJveHpjCnJLa1dHUEhwMzNucmdTNDlMNENa
            b3dmN0QwbE8rWGY2NFhJNDNxZ0doS1UKLS0tICtTWFBZc0dCQUZoUVRWaUFwTklt
            UGxLZVdvUEtXZkRwYzduNUJuVkNISE0KSmQkuNq+SxutqJ+/ONeEr3G05MlkcUjp
            f8OIS+UOpCUVXBBDDv+SOridvWVVHzDp81CDgAt2ermxwXFoAl6dqw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-10-18T19:48:08Z"
    mac: ENC[AES256_GCM,data:7FFUBtzZBl8P5f4R/sxXKLOYeLLsdsJxTHX4fIn1AO2Z1Ssk4v8OSgEoFfJStaKy9M9TGiEfH+VdZj643jOY+LSPK/pRacCepzm7ZytDAYs5+qk2tzus0SK8tuqnNaoLexow4KZ+vazHYx4/ogjpJ9uiWKkDBzk5GbbiwPYJ8XA=,iv:NLk1M5DIfRkyEfYy3edntZsICCaXH0wHs4BwszWkqrI=,tag:k4isjsfb86ji3yobKbxIig==,type:str]
    encrypted_regex: ^(data|stringData|email|dnsNames|.*(H|h)osts?|hostname|username|password|url|issuer|argocdServerAdminPassword|oidc.config|commonName|literals|.*awsAccessKeyId|.*awsSecretAccessKey|.*defaultAdminPassword|apiToken|accountId|rootPassword|replicationPassword|adminPassword|root_url|client_secret|auth_url|api_url|PIHOLE_DOMAIN|TUNNEL_DNS_UPSTREAM|customDnsEntries|securityTokenKey|emailRecipients|.*provider_url|.*redirect_url|.*accesskeyEncryption|SEMAPHORE_WEB_ROOT|token|cookieEncryption|cookieHash|^ldap|.*match)$
    version: 3.11.0
---
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    name: navidrome-subsonic
    namespace: media
spec:
    entryPoints:
        - websecure
    routes:
        - match: ENC[AES256_GCM,data:2++yZZvAHuoD4d3le0UEoycLvtbsOLDUitkgMPc3aqr93y6tfq1XilYQduVvUadbnWHNHSwpG74l5eU3xIduvxyqmo3XZLpsD1jWrVOvqL8bPzw=,iv:LRt2saYIPLfF/8e7ZcaaVVNlvhrI7nTuON6NE0DmvhU=,tag:23TMtKiB3JWUscOvKfRDAQ==,type:str]
          kind: Rule
          middlewares:
            - name: redirect
              namespace: traefik
            - name: forwardauth-authelia-basicauth
              namespace: authelia
          services:
            - name: navidrome
              port: 4533
          observability:
            accessLogs: true
    tls: {}
sops:
    age:
        - recipient: age1d2g7tgqpfvxulsusn3m608h60h2hne7yqwv5nh5nd24z6h0hgq0skjkhw8
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBIWWY5eWVLUnNMdEVTU3Nw
            SmNGRVdlZGI4c0FncWlJSUlBbVNOemRJNmtZCldjRzlNT01sUDUwbG5FQ0VRTlJw
            RmhBbVg3YStpYVNwZFQvNVR5Qjc4QkkKLS0tIENEcFZVZ21VbmM0dkczUjlDSEhH
            a2JzUlYzUE1uanhvOEd6REUzQmZpc2cKv8Zgs9+CEUpq0QGS2BIZf/bfGR8ofMwL
            BVqxrXq/sYi7gwk0km846MBiXJfIc+RBkjYgOrKySm52oB3S2MsJsQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1q522xtgjrmvr43w7um5rh02ta3yfns635680hz4m7uhw0nfqj5zqgxnz27
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBSWHQ4NlpubE9IMG9HMUNO
            eG5yMnJRNlZYMlZJRkhiWTlKQ1FyYWJveHpjCnJLa1dHUEhwMzNucmdTNDlMNENa
            b3dmN0QwbE8rWGY2NFhJNDNxZ0doS1UKLS0tICtTWFBZc0dCQUZoUVRWaUFwTklt
            UGxLZVdvUEtXZkRwYzduNUJuVkNISE0KSmQkuNq+SxutqJ+/ONeEr3G05MlkcUjp
            f8OIS+UOpCUVXBBDDv+SOridvWVVHzDp81CDgAt2ermxwXFoAl6dqw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-10-18T19:48:08Z"
    mac: ENC[AES256_GCM,data:7FFUBtzZBl8P5f4R/sxXKLOYeLLsdsJxTHX4fIn1AO2Z1Ssk4v8OSgEoFfJStaKy9M9TGiEfH+VdZj643jOY+LSPK/pRacCepzm7ZytDAYs5+qk2tzus0SK8tuqnNaoLexow4KZ+vazHYx4/ogjpJ9uiWKkDBzk5GbbiwPYJ8XA=,iv:NLk1M5DIfRkyEfYy3edntZsICCaXH0wHs4BwszWkqrI=,tag:k4isjsfb86ji3yobKbxIig==,type:str]
    encrypted_regex: ^(data|stringData|email|dnsNames|.*(H|h)osts?|hostname|username|password|url|issuer|argocdServerAdminPassword|oidc.config|commonName|literals|.*awsAccessKeyId|.*awsSecretAccessKey|.*defaultAdminPassword|apiToken|accountId|rootPassword|replicationPassword|adminPassword|root_url|client_secret|auth_url|api_url|PIHOLE_DOMAIN|TUNNEL_DNS_UPSTREAM|customDnsEntries|securityTokenKey|emailRecipients|.*provider_url|.*redirect_url|.*accesskeyEncryption|SEMAPHORE_WEB_ROOT|token|cookieEncryption|cookieHash|^ldap|.*match)$
    version: 3.11.0
---
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    name: navidrome-share
    namespace: media
spec:
    entryPoints:
        - websecure
    routes:
        - match: ENC[AES256_GCM,data:7Eqh9hbbiJR1ZHtWJtQHSzni0cI3vkv/fPdr5v048SnMh9hHe0t77IpH49sJaSSG8Tzq9U043g==,iv:XwPOouKVqn8x0hDQEDQ/kDgBqubQCqHAO8adf5rmWpQ=,tag:KDoOk8PA6Z7Vu7AWhCY7Jg==,type:str]
          kind: Rule
          middlewares:
            - name: redirect
              namespace: traefik
          services:
            - name: navidrome
              port: 4533
          observability:
            accessLogs: true
    tls: {}
sops:
    age:
        - recipient: age1d2g7tgqpfvxulsusn3m608h60h2hne7yqwv5nh5nd24z6h0hgq0skjkhw8
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBIWWY5eWVLUnNMdEVTU3Nw
            SmNGRVdlZGI4c0FncWlJSUlBbVNOemRJNmtZCldjRzlNT01sUDUwbG5FQ0VRTlJw
            RmhBbVg3YStpYVNwZFQvNVR5Qjc4QkkKLS0tIENEcFZVZ21VbmM0dkczUjlDSEhH
            a2JzUlYzUE1uanhvOEd6REUzQmZpc2cKv8Zgs9+CEUpq0QGS2BIZf/bfGR8ofMwL
            BVqxrXq/sYi7gwk0km846MBiXJfIc+RBkjYgOrKySm52oB3S2MsJsQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1q522xtgjrmvr43w7um5rh02ta3yfns635680hz4m7uhw0nfqj5zqgxnz27
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBSWHQ4NlpubE9IMG9HMUNO
            eG5yMnJRNlZYMlZJRkhiWTlKQ1FyYWJveHpjCnJLa1dHUEhwMzNucmdTNDlMNENa
            b3dmN0QwbE8rWGY2NFhJNDNxZ0doS1UKLS0tICtTWFBZc0dCQUZoUVRWaUFwTklt
            UGxLZVdvUEtXZkRwYzduNUJuVkNISE0KSmQkuNq+SxutqJ+/ONeEr3G05MlkcUjp
            f8OIS+UOpCUVXBBDDv+SOridvWVVHzDp81CDgAt2ermxwXFoAl6dqw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-10-18T19:48:08Z"
    mac: ENC[AES256_GCM,data:7FFUBtzZBl8P5f4R/sxXKLOYeLLsdsJxTHX4fIn1AO2Z1Ssk4v8OSgEoFfJStaKy9M9TGiEfH+VdZj643jOY+LSPK/pRacCepzm7ZytDAYs5+qk2tzus0SK8tuqnNaoLexow4KZ+vazHYx4/ogjpJ9uiWKkDBzk5GbbiwPYJ8XA=,iv:NLk1M5DIfRkyEfYy3edntZsICCaXH0wHs4BwszWkqrI=,tag:k4isjsfb86ji3yobKbxIig==,type:str]
    encrypted_regex: ^(data|stringData|email|dnsNames|.*(H|h)osts?|hostname|username|password|url|issuer|argocdServerAdminPassword|oidc.config|commonName|literals|.*awsAccessKeyId|.*awsSecretAccessKey|.*defaultAdminPassword|apiToken|accountId|rootPassword|replicationPassword|adminPassword|root_url|client_secret|auth_url|api_url|PIHOLE_DOMAIN|TUNNEL_DNS_UPSTREAM|customDnsEntries|securityTokenKey|emailRecipients|.*provider_url|.*redirect_url|.*accesskeyEncryption|SEMAPHORE_WEB_ROOT|token|cookieEncryption|cookieHash|^ldap|.*match)$
    version: 3.11.0
