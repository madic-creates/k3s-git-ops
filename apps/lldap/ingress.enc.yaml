apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: lldap
    annotations:
        # HTTPS entrypoint enabled
        traefik.ingress.kubernetes.io/router.entrypoints: web239,websecure239
        # TLS enabled
        traefik.ingress.kubernetes.io/router.tls: "true"
        traefik.ingress.kubernetes.io/router.middlewares: traefik-redirect@kubernetescrd
spec:
    ingressClassName: traefik
    tls:
        - hosts:
            - ENC[AES256_GCM,data:uvNtzjmTo8xRvNys4ffQpOlmKsqa7qME2VHB,iv:BRFBSyXOQa2fpC/iNV6XsnxGxsjYjBWwlnOcx6F5IqQ=,tag:DmSJfHLu6LDPTnwh/wSNmw==,type:str]
          secretName: wildcard-cloudflare-production-02
    rules:
        - host: ENC[AES256_GCM,data:mCXGhtkx+Bu78+aixaBr3VuQAVZDrjOiphG2,iv:M2nHbsgcueNT6AAZSnIyiIHsTPNn/XwLe8pmoh1wDgs=,tag:EAD5t+wzUcMr67TgvwtgQQ==,type:str]
          http:
            paths:
                - path: /
                  pathType: Prefix
                  backend:
                    service:
                        name: lldap
                        port:
                            number: 17170
sops:
    age:
        - recipient: age1d2g7tgqpfvxulsusn3m608h60h2hne7yqwv5nh5nd24z6h0hgq0skjkhw8
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBmQVc1QmNVZlhmR1dheGow
            UE90MGk3NC8rRVl0V0VyNnFvSVh3Q0tISkFJCjhnUDVuOXkzbm4vUEVnbjRCejZK
            ZWt2VVpMRHROMzJEODVsSU5TdFdqbVEKLS0tIFBDNG1sSy9jaFJFRnI4ZDVrSUFl
            MHNaUW1GbHU0YkljMi9PS3RTd1ZJaDQKB0XZEOi0R8n+JmhwG/EL7dLfeheNvG0I
            ZaewOToiqWmm9BpyyLwnu0vteVTCaFIHTyic2V4JRI0Tad0r60pGSQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1q522xtgjrmvr43w7um5rh02ta3yfns635680hz4m7uhw0nfqj5zqgxnz27
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBNWitKaTBva0dKR2F0cG50
            Q2Q4ZTdFZmpsRzQ1ckZVSlVSd2hiS01LSEVRCnNyMFc1Z3RaazZIVFM4akUvVTU2
            eFdCUTVGWmVabUNKRlNXY3FKUGtVZlEKLS0tIEFuTEdqYmFVTEtKYkhzYmVCYU50
            ZWtzcWYzL0o1eEk5aUJETEFCcEx5Rm8KENXh7K/nWW9SOFT7VVxpANVRbfSPYw/t
            oyQ7VRLRAicb0enWt3Z9z2dd3SuSa5pBFh/HsX9/GhIK4VBh1J0EEQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-10-13T19:31:16Z"
    mac: ENC[AES256_GCM,data:CfOELxhI0NL8Glqz9YwIcYMr7XaJ06xg7DSxWtfBEshFLC3brf3Zhk4cSFoRxQMoFfH9MN2EcnJtA259lK/zkdIYn+XJMajqtXFBRXng+k46OzcEGvysJAmduAAe3ird+BD2K5OVh77XCOfFsHmZ13zl36+j3pt2udBhPKKUePQ=,iv:TO5WTBnFVUHYvVTWHZ1BVyu73eGGoZhDGWDLAeWzdrs=,tag:bVoB4WYq4LbVl4v1CaTfdg==,type:str]
    encrypted_regex: ^(data|stringData|email|dnsNames|.*(H|h)osts?|hostname|username|password|url|issuer|argocdServerAdminPassword|oidc.config|commonName|literals|.*awsAccessKeyId|.*awsSecretAccessKey|.*defaultAdminPassword|apiToken|accountId)$
    version: 3.11.0
