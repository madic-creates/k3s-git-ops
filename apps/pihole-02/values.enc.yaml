serviceDns:
    mixedService: true
    annotations:
        lbipam.cilium.io/ips: 192.168.1.234
    # type LoadBalancer with externalTrafficPolicy Local
    # requires 192.168.1.232 on the same node as the pod
    type: LoadBalancer
    externalTrafficPolicy: Cluster
    #type: ClusterIP
serviceDhcp:
    enabled: false
virtualHost: ENC[AES256_GCM,data:i81jlvxY9wboQfvE5OPRGiohb1nK7ixd3Q==,iv:/H8ftAATeJxs2ZJk9j8XAOaJ4nNJcWBGdwHbpCTrwQM=,tag:L3X80lPWFMmxPmsNtM1/AA==,type:str]
ingress:
    enabled: true
    ingressClassName: traefik
    hosts:
        - ENC[AES256_GCM,data:gKz4eA4p0kt0O2HuEvWGf5mR2/fWjWNl5g==,iv:c9U7eZp4zk2wDX5SREkGfTjEvIB0FUagK1OcG6z6HPg=,tag:Z1kUsLFOufWFPGaKlI6YHQ==,type:str]
    tls:
        - secretName: wildcard-cloudflare-production-01
          hosts:
            - ENC[AES256_GCM,data:aRXg6wnJZjR7Gmo+1Zaefn9/fwSvIZpV/A==,iv:LFrjusb79ukrdiYWxVe4bhiHxh6Q83UkUbqJ+Z5TOUw=,tag:056s8f0o6SuahwfA+3kwWA==,type:str]
    annotations:
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
        traefik.ingress.kubernetes.io/router.tls: "true"
        traefik.ingress.kubernetes.io/router.middlewares: authelia-forwardauth-authelia@kubernetescrd, traefik-root-to-admin@kubernetescrd
resources:
    limits:
        cpu: 1000m
        memory: 256Mi
    requests:
        cpu: 100m
        memory: 128Mi
extraEnvVars:
    TZ: Europe/Berlin
    FTLCONF_dns_bogusPriv: true
    FTLCONF_dns_domainNeeded: true
    FTLCONF_dns_domain: neese-web.de
    FTLCONF_webserver_interface_boxed: false
DNS1: 127.0.0.1:5053
DNS2: ""
# Not required because secured via authelia oidc
admin:
    enabled: false
doh:
    enabled: true
    envVars:
        TUNNEL_DNS_UPSTREAM: ENC[AES256_GCM,data:7Y6I4fKzCrov2aBcdxw3H5//QauL5VLp0190YQGXjtOvUzyJDy4=,iv:TnmPHp2ffjMgbbO/+TkAkiELl9AbQbu/S3bpdpLQrBQ=,tag:h23bejkcVemqGd4PUKK2vA==,type:str]
podDnsConfig:
    enabled: true
    policy: None
    nameservers:
        - 127.0.0.1
        - 1.1.1.1
capabilities:
    add:
        - NET_ADMIN
        - CAP_SYS_TIME
        - CAP_SYS_NICE
persistentVolumeClaim:
    enabled: true
    existingClaim: pihole-02
dnsmasq:
    customDnsEntries:
        - ENC[AES256_GCM,data:ZweKGJ0Swr9Ig27BMquzrqkDHmVHwWNDHvrajyVw+bRBN1w=,iv:hzbX/uQ5ravtBAr/xmj/UsKFYLP+/wryVmT1syUF8eo=,tag:P8yqagc33gWXcYMEYgu0Hw==,type:str]
        - ENC[AES256_GCM,data:D019+UXuz6jPZdNu4CgxGlCIK4rNc2S9oQ==,iv:rFQ9nT9nxfL+/HyteTypyJtcfEsNluRf0fd7DzBONBw=,tag:1Ah9SGicqxaDsfAP6RDr9A==,type:str]
        - ENC[AES256_GCM,data:6iGkNdvtIPkqfIpNiGVU/0UjDQgMi9d6XH954OTq8vRky2b4rLur0g==,iv:sEfaC09T3kzrUXxu2+iGNGO5XSFKGTewBVFRuGgpkKc=,tag:/azwzluOlO3D5cd/E2rFUA==,type:str]
        - ENC[AES256_GCM,data:qzv2QqMVDD4Mi2ZuYKjHW4YL5KSUG3JdpaeCILw=,iv:6988hCCpOMPMICEYbuIvJ1tZaMQTJJRKWbLnQ6Wcrhk=,tag:1yXBi6FS2puNEd4VRZvGbA==,type:str]
        - ENC[AES256_GCM,data:h1Q4GVIPxQiOHdHVqdA8/syKHotP4FMiOZQUqg1SaVK3Qz3pqdrVt+lV3wRxElqIPw==,iv:Jic14MNIgnLxEhSJYA5YhPXa2eHwDH9ByfQkcR/Gq5w=,tag:fp2aa6H9BzzgWnaJXLGxtQ==,type:comment]
        - ENC[AES256_GCM,data:bSN7yd0NqZ9f7U6rJN0KEWFHluE76giyZAB8asC/uPegIXjDhLGaNk+UdnmI49slIb931nosMQs=,iv:kqJ7/p4T6AZQOmmtndxbGF4MumI7NVjr/sy4XQ8Eb7k=,tag:oR5FhzKspTimJU5f08YTDQ==,type:comment]
        - ENC[AES256_GCM,data:yt/wFEp6luoMZ+5wQnwAgwhCZ4nvn7ven+lrQ9RWMTfAs/1VXoD5wRw=,iv:TLJ/RkhGTTDdhbMmTr413dDQYdf6m73ciLw18YKjCCI=,tag:kRREoaXcpc5C7Xy31q4FeQ==,type:comment]
        - ENC[AES256_GCM,data:5tNDp8X5pEAN2POm7TUutvdHZ2xt5ONwJBwG7H7qjJXvj+e4lWmTsCZq+FXDsoBM,iv:0rvJP4wX7pS3eBDws1kqpVphHAVP2cZTKN2959poGW8=,tag:7om6jfbT1PUinkaKamAEkA==,type:comment]
        - ENC[AES256_GCM,data:7o3I/tbZ5DG6skuoGSR/rjaWeFSwfQOp6QY070xsu3HTGcryhpQf,iv:w5VfKTweTQUHbLHEi1XIeT68OAJJoqhRknUR/uel0ug=,tag:zlbgs1NjbOQhcw2b7gBN+Q==,type:comment]
        - ENC[AES256_GCM,data:8ak1c7mmF6/N1fVh1ktSLfVvD6tBABUMzm6tytVdmPGWyVx7dRbVYjs/arBq+w==,iv:qtjvrk9jbWB5DzAwMSG4JFH5wZUAtzZaOegMQcowzDk=,tag:Bt40Fhi7GK6f0gGRkJoixA==,type:comment]
        - ENC[AES256_GCM,data:XaAiKLhrpdXmTZiWwazatf8DQch6V0qRlyZYDBMOmm7AlsRInx0XlAICf9iDbhZD,iv:lJt/ikvA5+rOsI/MyfRdvoaytDnasAFwsI2t6HcD0Cw=,tag:pthLD+pWPkgayQ48WE5KWA==,type:comment]
        - ENC[AES256_GCM,data:BuwcQuO9HFPJbGgEc+xp2rdQQIys5aazpI0Z8tI9HsZtImNtWjGdZiIr0O7OLQE1PxXA2+jYzQ==,iv:W59w6JDLhR9AnjnIeOatIjc4hfs6PK2+nckFE8FpBQE=,tag:sh4lgHhxOT2NOspV+Yr8GQ==,type:comment]
        - ENC[AES256_GCM,data:Q2iiGgExnC+9JYSykIH6ZrdBu7egprAB47pEs76Cwh9d/YI2+Nw4bTcizczxJjN7tTQ=,iv:CTrTUMWXfAgQKz0/Z7YZuO4LvHM0vneZyLW90ZKgYY8=,tag:n4UWwmtMk/JjTW0OkUUFVw==,type:comment]
        - ENC[AES256_GCM,data:9qY0BoSm9lQO9TXq3t16ypw4m0aV7Tz29qK7iB9Qx/vkigtEW6VhJq5qD/PoY8aDzXz2YewU9RFX,iv:lVTQG2UirRirkynLwy4m/Jzrly0wiVtzDNAa3jdQWhs=,tag:/zGeVBFPv1Il2WkMXGehjQ==,type:comment]
    customSettings:
        - dhcp-option=252,"\n"
        - dhcp-option=vendor:MSFT,2,1i
        # DNS
        #- dhcp-option=6,192.168.1.232,192.168.1.1
        - dhcp-option=6,192.168.1.232,192.168.1.234
        # NTP
        - dhcp-option=42,192.168.1.1
        - dhcp-range=::,ra-names
        - server=/geekbundle.org/192.168.1.1
        - ptr-record=1.1.168.192.in-addr.arpa.,"despair"
        # TFTP Boot
        - dhcp-match=set:ipxe,175
        - dhcp-boot=tag:!ipxe,ipxe.pxe,dns01,192.168.1.11
        - dhcp-match=set:efi-x86_64,option:client-arch,7
        - dhcp-boot=tag:efi-x86_64,ipxe.efi,dns01,192.168.1.11
        - dhcp-boot=http://192.168.1.45:8043/boot.ipxe
        # DHCP Reservation with different dns server
        - dhcp-option=net:customdns,6,9.9.9.9,1.1.1.1
        - dhcp-host=net:customdns,EC:79:49:51:64:16,192.168.1.187,ipl06002-lan
        - dhcp-host=net:customdns,F4:4E:E3:2C:C2:B6,192.168.1.56,ipl06002-wlan
        # DHCP Reservation with unrestricted youtube dns server
        - dhcp-option=net:youtubedns,6,192.168.1.234
        - dhcp-host=net:youtubedns,AC:3E:B1:A6:AF:D6,Pixel-7-Pro
        - dhcp-host=net:youtubedns,74:58:F3:E7:3A:04,Fire-Cube-lan
        - dhcp-host=net:youtubedns,48:43:DD:6E:CC:2D,Fire-Cube-wlan
        - dhcp-host=net:youtubedns,00:e0:4c:7b:c2:98,Sanctuary
affinity:
    podAntiAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
            - labelSelector:
                matchExpressions:
                    - key: app.kubernetes.io/name
                      operator: In
                      values:
                        - pihole
              topologyKey: kubernetes.io/hostname
sops:
    age:
        - recipient: age1d2g7tgqpfvxulsusn3m608h60h2hne7yqwv5nh5nd24z6h0hgq0skjkhw8
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBOVFVFekc1RGdSM0srclg5
            NFFibjdyb216cWxET0gvU3pxY2xsMXc3Y0JRCnlTZ3NGaWdtLyt6bzNuTHJUbWVY
            Q1kzc2xWL2tNbDNuTHR0LzhIWUVuTU0KLS0tIGpvaVNKTHpOeHQ5MWxqb3dSV2xz
            SkpwVUh5SWVwNXJubCsvUklNeEtlT2sKcwYOtUvd7OyGyeIGoHA9kbWo3vJ2Xt0m
            rXglU+gx32dVIxOPU9qGxhfAv/I9TOTAaWGi4jUwFSkNMX/zBuBPWQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1q522xtgjrmvr43w7um5rh02ta3yfns635680hz4m7uhw0nfqj5zqgxnz27
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA2QjJraXNxYXlLdTY3NmNu
            bmZYR2tRaWdMd3RrOUQxRlZqRWJZNFYzUlRvClUzS1ZZdFhUSy83WXAzemdnaGtQ
            Z21VeW9ZVUpWVTRrS2x2OXZzRnNOa28KLS0tIEwwaUR1QkNSWmN1SWZVVHpTOVJ2
            M3dsSWU1YWZhQ1FTUEJIdldzam5hRHcKsXW444ZXFGp8ueI8i5t+xZIuGwi3NF3/
            aIZYbq8ywZyZ/6kFgUPh5PtxCfxWMx03+sdmHDsoWKS6znrpRajmJw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-07-20T15:02:59Z"
    mac: ENC[AES256_GCM,data:Rw6yoHdR92JWgZcV7RUEKpa9s0Y4IBc/eDUKIRJXKXqFdRAyvpvQoNed3G7lNcglG0DUVJVtwzXR2kHuCCKctBgsGaPRlDu1pCfwkNuH2FFPzjdmcCHnufItSZF9Rf4hsXhHGd+HTAIamzoY1p7OuaapNBPVuLkmh3tIzNTqUM4=,iv:4phdyyMhyV7t/JddQSY/gzx3G3Sr3sgBnUVkVQ4R98s=,tag:XB0uANEjebX8Uw1GMPemIw==,type:str]
    encrypted_regex: ^(data|stringData|email|dnsNames|.*(H|h)osts?|hostname|username|password|url|issuer|argocdServerAdminPassword|oidc.config|commonName|literals|.*awsAccessKeyId|.*awsSecretAccessKey|.*defaultAdminPassword|apiToken|accountId|rootPassword|replicationPassword|adminPassword|root_url|client_secret|auth_url|api_url|PIHOLE_DOMAIN|TUNNEL_DNS_UPSTREAM|customDnsEntries|securityTokenKey|emailRecipients|.*provider_url|.*redirect_url|.*accesskeyEncryption|SEMAPHORE_WEB_ROOT|token|cookieEncryption|cookieHash)$
    version: 3.10.2
