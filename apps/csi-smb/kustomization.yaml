---
resources:
  - namespace.yaml
  - smb-storageclass.yml
  - k8s.np.csi-smb-provisioner-default-deny.yaml
  - k8s.np.csi-smb.yaml

commonAnnotations:
  argocd.argoproj.io/sync-wave: "20"

helmCharts:
  - name: csi-driver-smb
    repo: https://raw.githubusercontent.com/kubernetes-csi/csi-driver-smb/master/charts
    version: 1.19.1
    releaseName: csi-driver-smb
    namespace: csi-smb-provisioner
    includeCRDs: true
    valuesInline:
      feature:
        # https://github.com/kubernetes-csi/csi-driver-smb/issues/920
        enableInlineVolume: false

generators:
  - kustomize-secret-generator.yaml
