<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A mono repository for my home Kubernetes cluster which tries to adhere to Infrastructure as Code (IaC) and GitOps practices"><meta name=author content="Michael Neese"><link href="https://madic-creates.github.io/git-ops/testenv/" rel="canonical"><link href=../pre-commit-hooks/ rel=prev><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Test Environment - Madic | Home GitOps</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel="stylesheet" href="../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="Test Environment - Madic | Home GitOps"><meta property=og:description content="A mono repository for my home Kubernetes cluster which tries to adhere to Infrastructure as Code (IaC) and GitOps practices"><meta property=og:image content=https://madic-creates.github.io/git-ops/assets/images/social/testenv.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://madic-creates.github.io/git-ops/testenv/ property=og:url><meta property=twitter:card content=summary_large_image><meta property=twitter:title content="Test Environment - Madic | Home GitOps"><meta property=twitter:description content="A mono repository for my home Kubernetes cluster which tries to adhere to Infrastructure as Code (IaC) and GitOps practices"><meta property=twitter:image content=https://madic-creates.github.io/git-ops/assets/images/social/testenv.png></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#test-environment class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Madic | Home GitOps" class="md-header__button md-logo" aria-label="Madic | Home GitOps" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Madic | Home GitOps </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Test Environment </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/madic-creates/k3s-git-ops" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </div> <div class=md-source__repository> madic-creates/k3s-git-ops </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Madic | Home GitOps" class="md-nav__button md-logo" aria-label="Madic | Home GitOps" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Madic | Home GitOps </label> <div class=md-nav__source> <a href="https://github.com/madic-creates/k3s-git-ops" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </div> <div class=md-source__repository> madic-creates/k3s-git-ops </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../install/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Applications </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../argocd/ class=md-nav__link> <span class=md-ellipsis> Argo-CD </span> </a> </li> <li class=md-nav__item> <a href=../auth/ class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=../backup/ class=md-nav__link> <span class=md-ellipsis> Backup </span> </a> </li> <li class=md-nav__item> <a href=../certmanager/ class=md-nav__link> <span class=md-ellipsis> Cert-Manager </span> </a> </li> <li class=md-nav__item> <a href=../databases/ class=md-nav__link> <span class=md-ellipsis> Databases </span> </a> </li> <li class=md-nav__item> <a href=../kubedoom/ class=md-nav__link> <span class=md-ellipsis> Kube DOOM </span> </a> </li> <li class=md-nav__item> <a href=../network/ class=md-nav__link> <span class=md-ellipsis> Network </span> </a> </li> <li class=md-nav__item> <a href=../loadbalancer/ class=md-nav__link> <span class=md-ellipsis> LoadBalancer </span> </a> </li> <li class=md-nav__item> <a href=../monitoring/ class=md-nav__link> <span class=md-ellipsis> Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../reflector/ class=md-nav__link> <span class=md-ellipsis> Reflector </span> </a> </li> <li class=md-nav__item> <a href=../secretmanagement/ class=md-nav__link> <span class=md-ellipsis> Secret Management </span> </a> </li> <li class=md-nav__item> <a href=../storage/ class=md-nav__link> <span class=md-ellipsis> Storage </span> </a> </li> <li class=md-nav__item> <a href=../updates/ class=md-nav__link> <span class=md-ellipsis> Updates </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Operations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../operations/longhorn-maintenance/ class=md-nav__link> <span class=md-ellipsis> Longhorn Maintenance </span> </a> </li> <li class=md-nav__item> <a href=../operations/cilium-migration/ class=md-nav__link> <span class=md-ellipsis> Migration to Cilium </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../helm/ class=md-nav__link> <span class=md-ellipsis> Helm </span> </a> </li> <li class=md-nav__item> <a href=../secrets/ class=md-nav__link> <span class=md-ellipsis> Secrets </span> </a> </li> <li class=md-nav__item> <a href=../mkdocs/ class=md-nav__link> <span class=md-ellipsis> MKDocs </span> </a> </li> <li class=md-nav__item> <a href=../pre-commit-hooks/ class=md-nav__link> <span class=md-ellipsis> Pre-Commit-Hooks </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Test Environment </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Test Environment </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#virtual-machine-specifications class=md-nav__link> <span class=md-ellipsis> Virtual Machine Specifications </span> </a> </li> <li class=md-nav__item> <a href=#architecture-decision class=md-nav__link> <span class=md-ellipsis> Architecture Decision </span> </a> </li> <li class=md-nav__item> <a href=#file-organization class=md-nav__link> <span class=md-ellipsis> File Organization </span> </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#setting-up-vagrant class=md-nav__link> <span class=md-ellipsis> Setting up vagrant </span> </a> </li> <li class=md-nav__item> <a href=#starting-the-test-environment class=md-nav__link> <span class=md-ellipsis> Starting the Test Environment </span> </a> <nav class=md-nav aria-label="Starting the Test Environment"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#full-cluster-deployment class=md-nav__link> <span class=md-ellipsis> Full Cluster Deployment </span> </a> </li> <li class=md-nav__item> <a href=#single-node-deployment class=md-nav__link> <span class=md-ellipsis> Single Node Deployment </span> </a> </li> <li class=md-nav__item> <a href=#accessing-the-cluster class=md-nav__link> <span class=md-ellipsis> Accessing the Cluster </span> </a> </li> <li class=md-nav__item> <a href=#adding-additional-nodes class=md-nav__link> <span class=md-ellipsis> Adding additional Nodes </span> </a> </li> <li class=md-nav__item> <a href=#ssh-access class=md-nav__link> <span class=md-ellipsis> SSH Access </span> </a> </li> <li class=md-nav__item> <a href=#destroying-the-environment class=md-nav__link> <span class=md-ellipsis> Destroying the Environment </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing-workflows class=md-nav__link> <span class=md-ellipsis> Testing Workflows </span> </a> <nav class=md-nav aria-label="Testing Workflows"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#deploying-applications class=md-nav__link> <span class=md-ellipsis> Deploying Applications </span> </a> </li> <li class=md-nav__item> <a href=#testing-argocd class=md-nav__link> <span class=md-ellipsis> Testing ArgoCD </span> </a> </li> <li class=md-nav__item> <a href=#testing-network-policies class=md-nav__link> <span class=md-ellipsis> Testing Network Policies </span> </a> </li> <li class=md-nav__item> <a href=#vagrant-snapshots class=md-nav__link> <span class=md-ellipsis> Vagrant Snapshots </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vagrant-issues class=md-nav__link> <span class=md-ellipsis> Vagrant Issues </span> </a> </li> <li class=md-nav__item> <a href=#vm-wont-start class=md-nav__link> <span class=md-ellipsis> VM Won't Start </span> </a> </li> <li class=md-nav__item> <a href=#k3s-service-not-starting class=md-nav__link> <span class=md-ellipsis> k3s Service Not Starting </span> </a> </li> <li class=md-nav__item> <a href=#kubeconfig-not-working class=md-nav__link> <span class=md-ellipsis> Kubeconfig Not Working </span> </a> </li> <li class=md-nav__item> <a href=#cleaning-up class=md-nav__link> <span class=md-ellipsis> Cleaning Up </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-optimization class=md-nav__link> <span class=md-ellipsis> Performance Optimization </span> </a> <nav class=md-nav aria-label="Performance Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#reducing-resource-usage class=md-nav__link> <span class=md-ellipsis> Reducing Resource Usage </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#virtual-machine-specifications class=md-nav__link> <span class=md-ellipsis> Virtual Machine Specifications </span> </a> </li> <li class=md-nav__item> <a href=#architecture-decision class=md-nav__link> <span class=md-ellipsis> Architecture Decision </span> </a> </li> <li class=md-nav__item> <a href=#file-organization class=md-nav__link> <span class=md-ellipsis> File Organization </span> </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#setting-up-vagrant class=md-nav__link> <span class=md-ellipsis> Setting up vagrant </span> </a> </li> <li class=md-nav__item> <a href=#starting-the-test-environment class=md-nav__link> <span class=md-ellipsis> Starting the Test Environment </span> </a> <nav class=md-nav aria-label="Starting the Test Environment"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#full-cluster-deployment class=md-nav__link> <span class=md-ellipsis> Full Cluster Deployment </span> </a> </li> <li class=md-nav__item> <a href=#single-node-deployment class=md-nav__link> <span class=md-ellipsis> Single Node Deployment </span> </a> </li> <li class=md-nav__item> <a href=#accessing-the-cluster class=md-nav__link> <span class=md-ellipsis> Accessing the Cluster </span> </a> </li> <li class=md-nav__item> <a href=#adding-additional-nodes class=md-nav__link> <span class=md-ellipsis> Adding additional Nodes </span> </a> </li> <li class=md-nav__item> <a href=#ssh-access class=md-nav__link> <span class=md-ellipsis> SSH Access </span> </a> </li> <li class=md-nav__item> <a href=#destroying-the-environment class=md-nav__link> <span class=md-ellipsis> Destroying the Environment </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing-workflows class=md-nav__link> <span class=md-ellipsis> Testing Workflows </span> </a> <nav class=md-nav aria-label="Testing Workflows"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#deploying-applications class=md-nav__link> <span class=md-ellipsis> Deploying Applications </span> </a> </li> <li class=md-nav__item> <a href=#testing-argocd class=md-nav__link> <span class=md-ellipsis> Testing ArgoCD </span> </a> </li> <li class=md-nav__item> <a href=#testing-network-policies class=md-nav__link> <span class=md-ellipsis> Testing Network Policies </span> </a> </li> <li class=md-nav__item> <a href=#vagrant-snapshots class=md-nav__link> <span class=md-ellipsis> Vagrant Snapshots </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vagrant-issues class=md-nav__link> <span class=md-ellipsis> Vagrant Issues </span> </a> </li> <li class=md-nav__item> <a href=#vm-wont-start class=md-nav__link> <span class=md-ellipsis> VM Won't Start </span> </a> </li> <li class=md-nav__item> <a href=#k3s-service-not-starting class=md-nav__link> <span class=md-ellipsis> k3s Service Not Starting </span> </a> </li> <li class=md-nav__item> <a href=#kubeconfig-not-working class=md-nav__link> <span class=md-ellipsis> Kubeconfig Not Working </span> </a> </li> <li class=md-nav__item> <a href=#cleaning-up class=md-nav__link> <span class=md-ellipsis> Cleaning Up </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-optimization class=md-nav__link> <span class=md-ellipsis> Performance Optimization </span> </a> <nav class=md-nav aria-label="Performance Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#reducing-resource-usage class=md-nav__link> <span class=md-ellipsis> Reducing Resource Usage </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=test-environment>Test environment<a class=headerlink href=#test-environment title="Permanent link">#</a></h1> <p>The test environment is based upon virtual machines and created with Vagrant and libvirt. You need a quiet powerful machine to run the full test environment. It can create up to three systems with the following configuration:</p> <h2 id=virtual-machine-specifications>Virtual Machine Specifications<a class=headerlink href=#virtual-machine-specifications title="Permanent link">#</a></h2> <ul> <li><strong>k3svm1</strong>: The server node of the k3s cluster<ul> <li>4096MB RAM</li> <li>4 CPU threads</li> <li>Role: k3s server (control plane)</li> </ul> </li> <li><strong>k3svm2</strong>: The first worker node of the k3s cluster<ul> <li>2048MB RAM</li> <li>2 CPU threads</li> <li>Role: k3s server (control plane)</li> </ul> </li> <li><strong>k3svm3</strong>: The second worker node of the k3s cluster<ul> <li>2048MB RAM</li> <li>2 CPU threads</li> <li>Role: k3s agent (worker)</li> </ul> </li> </ul> <p><strong>Total resources required:</strong> 8192MB RAM and 8 CPU threads when running all three VMs.</p> <h2 id=architecture-decision>Architecture Decision<a class=headerlink href=#architecture-decision title="Permanent link">#</a></h2> <p>I decided to base the test environment on virtual machines because I also test different network plugins. This is much easier to do with virtual machines than with containers. Another requirement is ansible, which I use to initially install k3s. This also needs to be tested. During deployment Vagrant uses the same ansible playbook to provision the system(s) as the one used for the production environment. Just the vars are a bit different and can be adjusted in the <code>ansible/inventory/vagrant/group_vars/all/main.yaml</code> file.</p> <h2 id=file-organization>File Organization<a class=headerlink href=#file-organization title="Permanent link">#</a></h2> <p>In the subfolder <strong>./shared/${HOSTNAME}/</strong> are files for the configuration of the k3s cluster, like the kubeconfig.</p> <p>The folder <strong>./shared</strong> gets also mounted to the virtual machines. This is the place where you can put files you want to share with the virtual machines. Though this requires <strong>memory_backing_dir = "/dev/shm"</strong> in <strong>/etc/libvirt/qemu.conf</strong>.</p> <div class="admonition warning"> <p class=admonition-title>libvirt Configuration Required</p> <p>The shared folder mounting requires the following configuration in <strong>/etc/libvirt/qemu.conf</strong>: <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1></a>memory_backing_dir = &quot;/dev/shm&quot;
</code></pre></div></td></tr></table></div> After changing this setting, restart libvirtd: <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1></a>sudo<span class=w> </span>systemctl<span class=w> </span>restart<span class=w> </span>libvirtd
</code></pre></div></td></tr></table></div></p> </div> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">#</a></h2> <p>Before setting up the test environment, ensure you have:</p> <ul> <li><strong>Virtualization support</strong>: CPU with VT-x/AMD-V enabled in BIOS</li> <li><strong>libvirt</strong>: KVM/QEMU virtualization platform installed</li> <li><strong>Vagrant</strong>: Version 2.3.0 or higher</li> <li><strong>Sufficient resources</strong>: At least 8GB free RAM and 8 CPU threads for full cluster</li> <li><strong>Disk space</strong>: Minimum 20GB free for VM images and data</li> </ul> <h2 id=setting-up-vagrant>Setting up vagrant<a class=headerlink href=#setting-up-vagrant title="Permanent link">#</a></h2> <p>At first install vagrant for your system. This wont be covered here. Please refer to the <a href="https://developer.hashicorp.com/vagrant/docs/installation" target="_blank" rel="noopener">vagrant documentation</a>.</p> <p>Add the libvirt plugin:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1></a>vagrant<span class=w> </span>plugin<span class=w> </span>install<span class=w> </span>vagrant-libvirt
</code></pre></div></td></tr></table></div> <div class="admonition tip"> <p class=admonition-title>Using Docker Container (Recommended)</p> <p>If you have, like me, dependency problems with the libvirt plugin, you can use the <a href="https://vagrant-libvirt.github.io/vagrant-libvirt/installation.html#docker--podman" target="_blank" rel="noopener">vagrant-libvirt</a> docker container. I <strong>recommend</strong> you to use my extended <a href="https://github.com/madic-creates/vagrant-libvirt-ansible" target="_blank" rel="noopener">vagrant-libvirt-ansible</a> container with added ansible. Ansible is required for provisioning and by default not installed in the standard vagrant-libvirt container.</p> <p>To use the container: <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span>
<span class=normal><a href=#__codelineno-3-2>2</a></span>
<span class=normal><a href=#__codelineno-3-3>3</a></span>
<span class=normal><a href=#__codelineno-3-4>4</a></span>
<span class=normal><a href=#__codelineno-3-5>5</a></span>
<span class=normal><a href=#__codelineno-3-6>6</a></span>
<span class=normal><a href=#__codelineno-3-7>7</a></span>
<span class=normal><a href=#__codelineno-3-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1></a>docker<span class=w> </span>run<span class=w> </span>-it<span class=w> </span>--rm<span class=w> </span><span class=se>\</span>
<a id=__codelineno-3-2 name=__codelineno-3-2></a><span class=w>  </span>-v<span class=w> </span>/var/run/libvirt/:/var/run/libvirt/<span class=w> </span><span class=se>\</span>
<a id=__codelineno-3-3 name=__codelineno-3-3></a><span class=w>  </span>-v<span class=w> </span>~/.vagrant.d:/root/.vagrant.d<span class=w> </span><span class=se>\</span>
<a id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>  </span>-v<span class=w> </span><span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>:<span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span><span class=w> </span><span class=se>\</span>
<a id=__codelineno-3-5 name=__codelineno-3-5></a><span class=w>  </span>-w<span class=w> </span><span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span><span class=w> </span><span class=se>\</span>
<a id=__codelineno-3-6 name=__codelineno-3-6></a><span class=w>  </span>--network<span class=w> </span>host<span class=w> </span><span class=se>\</span>
<a id=__codelineno-3-7 name=__codelineno-3-7></a><span class=w>  </span>ghcr.io/madic-creates/vagrant-libvirt-ansible:latest<span class=w> </span><span class=se>\</span>
<a id=__codelineno-3-8 name=__codelineno-3-8></a><span class=w>  </span>vagrant<span class=w> </span>up
</code></pre></div></td></tr></table></div></p> </div> <h2 id=starting-the-test-environment>Starting the Test Environment<a class=headerlink href=#starting-the-test-environment title="Permanent link">#</a></h2> <h3 id=full-cluster-deployment>Full Cluster Deployment<a class=headerlink href=#full-cluster-deployment title="Permanent link">#</a></h3> <p>Start the complete test environment with all three nodes:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1></a>vagrant<span class=w> </span>up
</code></pre></div></td></tr></table></div> <p>This will:</p> <ol> <li>Create three VMs (k3svm1, k3svm2, k3svm3)</li> <li>Run the Ansible playbook <code>ansible/playbooks/install.yaml</code></li> <li>Install k3s on the server node</li> <li>Join worker nodes to the cluster</li> <li>Copy kubeconfig to <code>shared/k3svm1/k3s.yaml</code></li> </ol> <div class="admonition note"> <p class=admonition-title>Provisioning Time</p> <p>The initial provisioning can take 10-15 minutes depending on your system resources and internet connection. After the Vagrant provisioning completes, allow an additional 2-3 minutes for k3s to fully initialize.</p> </div> <h3 id=single-node-deployment>Single Node Deployment<a class=headerlink href=#single-node-deployment title="Permanent link">#</a></h3> <p>Start only the server node (which is enough for many tests):</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1></a>vagrant<span class=w> </span>up<span class=w> </span>k3svm1
</code></pre></div></td></tr></table></div> <p>This creates a single-node cluster that is sufficient for testing:</p> <ul> <li>Application deployments</li> <li>ArgoCD functionality</li> <li>Kustomize configurations</li> <li>Secret management with SOPS</li> <li>Basic networking</li> </ul> <h3 id=accessing-the-cluster>Accessing the Cluster<a class=headerlink href=#accessing-the-cluster title="Permanent link">#</a></h3> <p>After the installation is finished, it can still take some time till the k3s service is up and running.</p> <p>The ansible <strong>ansible/playbooks/install.yaml</strong> playbook, which vagrant automatically runs, will copy the kubeconfig from the server node to <code>shared/k3svm1/k3s.yaml</code>. You can use this file to access the test k3s cluster.</p> <p>Set the KUBECONFIG environment variable:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1></a><span class=nb>export</span><span class=w> </span><span class=nv>KUBECONFIG</span><span class=o>=</span><span class=s2>&quot;</span><span class=nv>$PWD</span><span class=s2>/shared/k3svm1/k3s.yaml&quot;</span>
</code></pre></div></td></tr></table></div> <p>Verify cluster access:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1>1</a></span>
<span class=normal><a href=#__codelineno-7-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1></a>kubectl<span class=w> </span>get<span class=w> </span>nodes
<a id=__codelineno-7-2 name=__codelineno-7-2></a>kubectl<span class=w> </span>get<span class=w> </span>pods<span class=w> </span>-A
</code></pre></div></td></tr></table></div> <h3 id=adding-additional-nodes>Adding additional Nodes<a class=headerlink href=#adding-additional-nodes title="Permanent link">#</a></h3> <p>Start the worker nodes separately if needed. Ansible will automatically join the worker nodes to the k3s cluster.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1>1</a></span>
<span class=normal><a href=#__codelineno-8-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1></a>vagrant<span class=w> </span>up<span class=w> </span>k3svm2
<a id=__codelineno-8-2 name=__codelineno-8-2></a>vagrant<span class=w> </span>up<span class=w> </span>k3svm3
</code></pre></div></td></tr></table></div> <div class="admonition tip"> <p class=admonition-title>When to Use Worker Nodes</p> <p>Worker nodes are useful for testing:</p> <ul> <li>Multi-node scheduling</li> <li>Pod anti-affinity rules</li> <li>Node selectors and taints</li> <li>Storage replication (Longhorn)</li> <li>High availability scenarios</li> </ul> </div> <h3 id=ssh-access>SSH Access<a class=headerlink href=#ssh-access title="Permanent link">#</a></h3> <p>Once your virtual machine is up and running, you can log in to it:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-9-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1></a>vagrant<span class=w> </span>ssh<span class=w> </span>k3svm1
</code></pre></div></td></tr></table></div> <p>Useful commands inside the VM:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-10-1> 1</a></span>
<span class=normal><a href=#__codelineno-10-2> 2</a></span>
<span class=normal><a href=#__codelineno-10-3> 3</a></span>
<span class=normal><a href=#__codelineno-10-4> 4</a></span>
<span class=normal><a href=#__codelineno-10-5> 5</a></span>
<span class=normal><a href=#__codelineno-10-6> 6</a></span>
<span class=normal><a href=#__codelineno-10-7> 7</a></span>
<span class=normal><a href=#__codelineno-10-8> 8</a></span>
<span class=normal><a href=#__codelineno-10-9> 9</a></span>
<span class=normal><a href=#__codelineno-10-10>10</a></span>
<span class=normal><a href=#__codelineno-10-11>11</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1></a><span class=c1># Check k3s service status</span>
<a id=__codelineno-10-2 name=__codelineno-10-2></a>sudo<span class=w> </span>systemctl<span class=w> </span>status<span class=w> </span>k3s
<a id=__codelineno-10-3 name=__codelineno-10-3></a>
<a id=__codelineno-10-4 name=__codelineno-10-4></a><span class=c1># View k3s logs on control-plane</span>
<a id=__codelineno-10-5 name=__codelineno-10-5></a>sudo<span class=w> </span>journalctl<span class=w> </span>-u<span class=w> </span>k3s<span class=w> </span>-f
<a id=__codelineno-10-6 name=__codelineno-10-6></a>
<a id=__codelineno-10-7 name=__codelineno-10-7></a><span class=c1># View k3s logs on worker</span>
<a id=__codelineno-10-8 name=__codelineno-10-8></a>sudo<span class=w> </span>journalctl<span class=w> </span>-u<span class=w> </span>k3s-agent<span class=w> </span>-f
<a id=__codelineno-10-9 name=__codelineno-10-9></a>
<a id=__codelineno-10-10 name=__codelineno-10-10></a><span class=c1># Check node resources</span>
<a id=__codelineno-10-11 name=__codelineno-10-11></a>kubectl<span class=w> </span>top<span class=w> </span>nodes
</code></pre></div></td></tr></table></div> <h3 id=destroying-the-environment>Destroying the Environment<a class=headerlink href=#destroying-the-environment title="Permanent link">#</a></h3> <p>Destroy the test environment and reclaim resources:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1></a>vagrant<span class=w> </span>destroy<span class=w> </span>-f
</code></pre></div></td></tr></table></div> <p>To destroy a specific VM:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1></a>vagrant<span class=w> </span>destroy<span class=w> </span>k3svm2<span class=w> </span>-f
</code></pre></div></td></tr></table></div> <h2 id=testing-workflows>Testing Workflows<a class=headerlink href=#testing-workflows title="Permanent link">#</a></h2> <h3 id=deploying-applications>Deploying Applications<a class=headerlink href=#deploying-applications title="Permanent link">#</a></h3> <p>Once the cluster is running, you can test application deployments:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1>1</a></span>
<span class=normal><a href=#__codelineno-13-2>2</a></span>
<span class=normal><a href=#__codelineno-13-3>3</a></span>
<span class=normal><a href=#__codelineno-13-4>4</a></span>
<span class=normal><a href=#__codelineno-13-5>5</a></span>
<span class=normal><a href=#__codelineno-13-6>6</a></span>
<span class=normal><a href=#__codelineno-13-7>7</a></span>
<span class=normal><a href=#__codelineno-13-8>8</a></span>
<span class=normal><a href=#__codelineno-13-9>9</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1></a><span class=c1># Build kustomization locally</span>
<a id=__codelineno-13-2 name=__codelineno-13-2></a>kubectl<span class=w> </span>kustomize<span class=w> </span>apps/myapp<span class=w> </span>--enable-helm
<a id=__codelineno-13-3 name=__codelineno-13-3></a>
<a id=__codelineno-13-4 name=__codelineno-13-4></a><span class=c1># Apply directly (for testing without ArgoCD)</span>
<a id=__codelineno-13-5 name=__codelineno-13-5></a>kubectl<span class=w> </span>kustomize<span class=w> </span>apps/myapp<span class=w> </span>--enable-helm<span class=w> </span><span class=p>|</span><span class=w> </span>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>-
<a id=__codelineno-13-6 name=__codelineno-13-6></a>
<a id=__codelineno-13-7 name=__codelineno-13-7></a><span class=c1># Check deployment status</span>
<a id=__codelineno-13-8 name=__codelineno-13-8></a>kubectl<span class=w> </span>get<span class=w> </span>pods<span class=w> </span>-n<span class=w> </span>myapp-namespace
<a id=__codelineno-13-9 name=__codelineno-13-9></a>kubectl<span class=w> </span>describe<span class=w> </span>pod<span class=w> </span>&lt;pod-name&gt;<span class=w> </span>-n<span class=w> </span>myapp-namespace
</code></pre></div></td></tr></table></div> <h3 id=testing-argocd>Testing ArgoCD<a class=headerlink href=#testing-argocd title="Permanent link">#</a></h3> <p>Deploy ArgoCD to the test cluster:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-14-1>1</a></span>
<span class=normal><a href=#__codelineno-14-2>2</a></span>
<span class=normal><a href=#__codelineno-14-3>3</a></span>
<span class=normal><a href=#__codelineno-14-4>4</a></span>
<span class=normal><a href=#__codelineno-14-5>5</a></span>
<span class=normal><a href=#__codelineno-14-6>6</a></span>
<span class=normal><a href=#__codelineno-14-7>7</a></span>
<span class=normal><a href=#__codelineno-14-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1></a><span class=c1># Deploy ArgoCD</span>
<a id=__codelineno-14-2 name=__codelineno-14-2></a>kubectl<span class=w> </span>kustomize<span class=w> </span>apps/argo-cd<span class=w> </span>--enable-helm<span class=w> </span><span class=p>|</span><span class=w> </span>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>-
<a id=__codelineno-14-3 name=__codelineno-14-3></a>
<a id=__codelineno-14-4 name=__codelineno-14-4></a><span class=c1># Wait for ArgoCD to be ready</span>
<a id=__codelineno-14-5 name=__codelineno-14-5></a>kubectl<span class=w> </span><span class=nb>wait</span><span class=w> </span>--for<span class=o>=</span><span class=nv>condition</span><span class=o>=</span>available<span class=w> </span>--timeout<span class=o>=</span>300s<span class=w> </span>deployment/argocd-server<span class=w> </span>-n<span class=w> </span>argocd
<a id=__codelineno-14-6 name=__codelineno-14-6></a>
<a id=__codelineno-14-7 name=__codelineno-14-7></a><span class=c1># Get admin password</span>
<a id=__codelineno-14-8 name=__codelineno-14-8></a>kubectl<span class=w> </span>get<span class=w> </span>secret<span class=w> </span>argocd-initial-admin-secret<span class=w> </span>-n<span class=w> </span>argocd<span class=w> </span>-o<span class=w> </span><span class=nv>jsonpath</span><span class=o>=</span><span class=s2>&quot;{.data.password}&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>base64<span class=w> </span>-d
</code></pre></div></td></tr></table></div> <p>Port-forward to access ArgoCD UI:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-15-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1></a>kubectl<span class=w> </span>port-forward<span class=w> </span>svc/argocd-server<span class=w> </span>-n<span class=w> </span>argocd<span class=w> </span><span class=m>8080</span>:443
</code></pre></div></td></tr></table></div> <h3 id=testing-network-policies>Testing Network Policies<a class=headerlink href=#testing-network-policies title="Permanent link">#</a></h3> <p>When testing Cilium network policies, use Hubble:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-16-1> 1</a></span>
<span class=normal><a href=#__codelineno-16-2> 2</a></span>
<span class=normal><a href=#__codelineno-16-3> 3</a></span>
<span class=normal><a href=#__codelineno-16-4> 4</a></span>
<span class=normal><a href=#__codelineno-16-5> 5</a></span>
<span class=normal><a href=#__codelineno-16-6> 6</a></span>
<span class=normal><a href=#__codelineno-16-7> 7</a></span>
<span class=normal><a href=#__codelineno-16-8> 8</a></span>
<span class=normal><a href=#__codelineno-16-9> 9</a></span>
<span class=normal><a href=#__codelineno-16-10>10</a></span>
<span class=normal><a href=#__codelineno-16-11>11</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1></a><span class=c1># Install Cilium CLI in the VM</span>
<a id=__codelineno-16-2 name=__codelineno-16-2></a>vagrant<span class=w> </span>ssh<span class=w> </span>k3svm1
<a id=__codelineno-16-3 name=__codelineno-16-3></a>curl<span class=w> </span>-L<span class=w> </span>--remote-name-all<span class=w> </span>https://github.com/cilium/cilium-cli/releases/latest/download/cilium-linux-amd64.tar.gz
<a id=__codelineno-16-4 name=__codelineno-16-4></a>sudo<span class=w> </span>tar<span class=w> </span>xzvfC<span class=w> </span>cilium-linux-amd64.tar.gz<span class=w> </span>/usr/local/bin
<a id=__codelineno-16-5 name=__codelineno-16-5></a>rm<span class=w> </span>cilium-linux-amd64.tar.gz
<a id=__codelineno-16-6 name=__codelineno-16-6></a>
<a id=__codelineno-16-7 name=__codelineno-16-7></a><span class=c1># Enable Hubble port-forward</span>
<a id=__codelineno-16-8 name=__codelineno-16-8></a>cilium<span class=w> </span>hubble<span class=w> </span>port-forward<span class=w> </span><span class=p>&amp;</span>
<a id=__codelineno-16-9 name=__codelineno-16-9></a>
<a id=__codelineno-16-10 name=__codelineno-16-10></a><span class=c1># Observe traffic from your namespace</span>
<a id=__codelineno-16-11 name=__codelineno-16-11></a>hubble<span class=w> </span>observe<span class=w> </span>--namespace<span class=w> </span>myapp<span class=w> </span>--last<span class=w> </span><span class=m>100</span>
</code></pre></div></td></tr></table></div> <h3 id=vagrant-snapshots>Vagrant Snapshots<a class=headerlink href=#vagrant-snapshots title="Permanent link">#</a></h3> <p>Create snapshots for quick rollback:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-17-1> 1</a></span>
<span class=normal><a href=#__codelineno-17-2> 2</a></span>
<span class=normal><a href=#__codelineno-17-3> 3</a></span>
<span class=normal><a href=#__codelineno-17-4> 4</a></span>
<span class=normal><a href=#__codelineno-17-5> 5</a></span>
<span class=normal><a href=#__codelineno-17-6> 6</a></span>
<span class=normal><a href=#__codelineno-17-7> 7</a></span>
<span class=normal><a href=#__codelineno-17-8> 8</a></span>
<span class=normal><a href=#__codelineno-17-9> 9</a></span>
<span class=normal><a href=#__codelineno-17-10>10</a></span>
<span class=normal><a href=#__codelineno-17-11>11</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1></a><span class=c1># Take a snapshot</span>
<a id=__codelineno-17-2 name=__codelineno-17-2></a>vagrant<span class=w> </span>snapshot<span class=w> </span>save<span class=w> </span>k3svm1<span class=w> </span>clean-state
<a id=__codelineno-17-3 name=__codelineno-17-3></a>
<a id=__codelineno-17-4 name=__codelineno-17-4></a><span class=c1># List snapshots</span>
<a id=__codelineno-17-5 name=__codelineno-17-5></a>vagrant<span class=w> </span>snapshot<span class=w> </span>list
<a id=__codelineno-17-6 name=__codelineno-17-6></a>
<a id=__codelineno-17-7 name=__codelineno-17-7></a><span class=c1># Restore snapshot</span>
<a id=__codelineno-17-8 name=__codelineno-17-8></a>vagrant<span class=w> </span>snapshot<span class=w> </span>restore<span class=w> </span>k3svm1<span class=w> </span>clean-state
<a id=__codelineno-17-9 name=__codelineno-17-9></a>
<a id=__codelineno-17-10 name=__codelineno-17-10></a><span class=c1># Delete snapshot</span>
<a id=__codelineno-17-11 name=__codelineno-17-11></a>vagrant<span class=w> </span>snapshot<span class=w> </span>delete<span class=w> </span>k3svm1<span class=w> </span>clean-state
</code></pre></div></td></tr></table></div> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">#</a></h2> <h3 id=vagrant-issues>Vagrant Issues<a class=headerlink href=#vagrant-issues title="Permanent link">#</a></h3> <p>Sometimes vagrant has conflicts with OS packages resulting in messages like this:</p> <p><em>conflicting dependencies date (= 3.2.2) and date (= 3.3.4)</em></p> <p>Set the following environment variable to ignore gem versions or directly use my <a href="https://github.com/madic-creates/vagrant-libvirt-ansible" target="_blank" rel="noopener">vagrant-libvirt-ansible</a> container:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-18-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1></a><span class=nb>export</span><span class=w> </span><span class=nv>VAGRANT_DISABLE_STRICT_DEPENDENCY_ENFORCEMENT</span><span class=o>=</span><span class=m>1</span>
</code></pre></div></td></tr></table></div> <h3 id=vm-wont-start>VM Won't Start<a class=headerlink href=#vm-wont-start title="Permanent link">#</a></h3> <p>Check libvirt status:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-19-1>1</a></span>
<span class=normal><a href=#__codelineno-19-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1></a>sudo<span class=w> </span>systemctl<span class=w> </span>status<span class=w> </span>libvirtd
<a id=__codelineno-19-2 name=__codelineno-19-2></a>sudo<span class=w> </span>virsh<span class=w> </span>list<span class=w> </span>--all
</code></pre></div></td></tr></table></div> <p>View libvirt logs:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-20-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1></a>sudo<span class=w> </span>journalctl<span class=w> </span>-u<span class=w> </span>libvirtd<span class=w> </span>-f
</code></pre></div></td></tr></table></div> <h3 id=k3s-service-not-starting>k3s Service Not Starting<a class=headerlink href=#k3s-service-not-starting title="Permanent link">#</a></h3> <p>SSH into the VM and check k3s status:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-21-1>1</a></span>
<span class=normal><a href=#__codelineno-21-2>2</a></span>
<span class=normal><a href=#__codelineno-21-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1></a>vagrant<span class=w> </span>ssh<span class=w> </span>k3svm1
<a id=__codelineno-21-2 name=__codelineno-21-2></a>sudo<span class=w> </span>systemctl<span class=w> </span>status<span class=w> </span>k3s
<a id=__codelineno-21-3 name=__codelineno-21-3></a>sudo<span class=w> </span>journalctl<span class=w> </span>-u<span class=w> </span>k3s<span class=w> </span>--no-pager<span class=w> </span>-n<span class=w> </span><span class=m>50</span>
</code></pre></div></td></tr></table></div> <h3 id=kubeconfig-not-working>Kubeconfig Not Working<a class=headerlink href=#kubeconfig-not-working title="Permanent link">#</a></h3> <p>Ensure the kubeconfig file exists:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-22-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1></a>ls<span class=w> </span>-la<span class=w> </span>shared/k3svm1/k3s.yaml
</code></pre></div></td></tr></table></div> <p>If missing, manually copy from VM:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-23-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1></a>vagrant<span class=w> </span>ssh<span class=w> </span>k3svm1<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;sudo cat /etc/rancher/k3s/k3s.yaml&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>sed<span class=w> </span><span class=s2>&quot;s/127.0.0.1/</span><span class=k>$(</span>vagrant<span class=w> </span>ssh-config<span class=w> </span>k3svm1<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>HostName<span class=w> </span><span class=p>|</span><span class=w> </span>awk<span class=w> </span><span class=s1>&#39;{print $2}&#39;</span><span class=k>)</span><span class=s2>/g&quot;</span><span class=w> </span>&gt;<span class=w> </span>shared/k3svm1/k3s.yaml
</code></pre></div></td></tr></table></div> <h3 id=cleaning-up>Cleaning Up<a class=headerlink href=#cleaning-up title="Permanent link">#</a></h3> <p>If VMs are in an inconsistent state:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-24-1> 1</a></span>
<span class=normal><a href=#__codelineno-24-2> 2</a></span>
<span class=normal><a href=#__codelineno-24-3> 3</a></span>
<span class=normal><a href=#__codelineno-24-4> 4</a></span>
<span class=normal><a href=#__codelineno-24-5> 5</a></span>
<span class=normal><a href=#__codelineno-24-6> 6</a></span>
<span class=normal><a href=#__codelineno-24-7> 7</a></span>
<span class=normal><a href=#__codelineno-24-8> 8</a></span>
<span class=normal><a href=#__codelineno-24-9> 9</a></span>
<span class=normal><a href=#__codelineno-24-10>10</a></span>
<span class=normal><a href=#__codelineno-24-11>11</a></span>
<span class=normal><a href=#__codelineno-24-12>12</a></span>
<span class=normal><a href=#__codelineno-24-13>13</a></span>
<span class=normal><a href=#__codelineno-24-14>14</a></span>
<span class=normal><a href=#__codelineno-24-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1></a><span class=c1># Stop all VMs</span>
<a id=__codelineno-24-2 name=__codelineno-24-2></a>vagrant<span class=w> </span>halt
<a id=__codelineno-24-3 name=__codelineno-24-3></a>
<a id=__codelineno-24-4 name=__codelineno-24-4></a><span class=c1># Destroy all VMs</span>
<a id=__codelineno-24-5 name=__codelineno-24-5></a>vagrant<span class=w> </span>destroy<span class=w> </span>-f
<a id=__codelineno-24-6 name=__codelineno-24-6></a>
<a id=__codelineno-24-7 name=__codelineno-24-7></a><span class=c1># Clean libvirt domains</span>
<a id=__codelineno-24-8 name=__codelineno-24-8></a>sudo<span class=w> </span>virsh<span class=w> </span>list<span class=w> </span>--all
<a id=__codelineno-24-9 name=__codelineno-24-9></a>sudo<span class=w> </span>virsh<span class=w> </span>undefine<span class=w> </span>k3svm1
<a id=__codelineno-24-10 name=__codelineno-24-10></a>sudo<span class=w> </span>virsh<span class=w> </span>undefine<span class=w> </span>k3svm2
<a id=__codelineno-24-11 name=__codelineno-24-11></a>sudo<span class=w> </span>virsh<span class=w> </span>undefine<span class=w> </span>k3svm3
<a id=__codelineno-24-12 name=__codelineno-24-12></a>
<a id=__codelineno-24-13 name=__codelineno-24-13></a><span class=c1># Remove storage</span>
<a id=__codelineno-24-14 name=__codelineno-24-14></a>sudo<span class=w> </span>virsh<span class=w> </span>vol-list<span class=w> </span>default
<a id=__codelineno-24-15 name=__codelineno-24-15></a>sudo<span class=w> </span>virsh<span class=w> </span>vol-delete<span class=w> </span>k3svm1.img<span class=w> </span>default
</code></pre></div></td></tr></table></div> <h2 id=performance-optimization>Performance Optimization<a class=headerlink href=#performance-optimization title="Permanent link">#</a></h2> <h3 id=reducing-resource-usage>Reducing Resource Usage<a class=headerlink href=#reducing-resource-usage title="Permanent link">#</a></h3> <p>For limited hardware, modify the Vagrantfile to reduce resources:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-25-1>1</a></span>
<span class=normal><a href=#__codelineno-25-2>2</a></span>
<span class=normal><a href=#__codelineno-25-3>3</a></span>
<span class=normal><a href=#__codelineno-25-4>4</a></span>
<span class=normal><a href=#__codelineno-25-5>5</a></span>
<span class=normal><a href=#__codelineno-25-6>6</a></span>
<span class=normal><a href=#__codelineno-25-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1></a><span class=c1># Example modifications</span>
<a id=__codelineno-25-2 name=__codelineno-25-2></a><span class=n>config</span><span class=o>.</span><span class=n>vm</span><span class=o>.</span><span class=n>define</span><span class=w> </span><span class=s2>&quot;k3svm1&quot;</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>node</span><span class=o>|</span>
<a id=__codelineno-25-3 name=__codelineno-25-3></a><span class=w>  </span><span class=n>node</span><span class=o>.</span><span class=n>vm</span><span class=o>.</span><span class=n>provider</span><span class=w> </span><span class=ss>:libvirt</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>libvirt</span><span class=o>|</span>
<a id=__codelineno-25-4 name=__codelineno-25-4></a><span class=w>    </span><span class=n>libvirt</span><span class=o>.</span><span class=n>memory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2048</span><span class=w>  </span><span class=c1># Reduced from 4096</span>
<a id=__codelineno-25-5 name=__codelineno-25-5></a><span class=w>    </span><span class=n>libvirt</span><span class=o>.</span><span class=n>cpus</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=w>       </span><span class=c1># Reduced from 4</span>
<a id=__codelineno-25-6 name=__codelineno-25-6></a><span class=w>  </span><span class=k>end</span>
<a id=__codelineno-25-7 name=__codelineno-25-7></a><span class=k>end</span>
</code></pre></div></td></tr></table></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> <div class=md-social> <a href="https://github.com/madic-creates" target="_blank" rel="noopener" title="github.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href="https://chaos.social/@Madic" target="_blank" rel="noopener me" title="chaos.social" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5H201V197c0-58.5-64-56.6-64-6.9v114.2H90.3c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175"/></svg> </a> <a href="https://www.geekbundle.org" target="_blank" rel="noopener" title="www.geekbundle.org" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="m61.7 169.4 101.5 278C92.2 413 43.3 340.2 43.3 256c0-30.9 6.6-60.1 18.4-86.6m337.9 75.9c0-26.3-9.4-44.5-17.5-58.7-10.8-17.5-20.9-32.4-20.9-49.9 0-19.6 14.8-37.8 35.7-37.8.9 0 1.8.1 2.8.2-37.9-34.7-88.3-55.9-143.7-55.9-74.3 0-139.7 38.1-177.8 95.9 5 .2 9.7.3 13.7.3 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l77.5 230.4L249.8 247l-33.1-90.8c-11.5-.7-22.3-2-22.3-2-11.5-.7-10.1-18.2 1.3-17.5 0 0 35.1 2.7 56 2.7 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l76.9 228.7 21.2-70.9c9-29.4 16-50.5 16-68.7m-139.9 29.3-63.8 185.5c19.1 5.6 39.2 8.7 60.1 8.7 24.8 0 48.5-4.3 70.6-12.1-.6-.9-1.1-1.9-1.5-2.9zm183-120.7c.9 6.8 1.4 14 1.4 21.9 0 21.6-4 45.8-16.2 76.2l-65 187.9C426.2 403 468.7 334.5 468.7 256c0-37-9.4-71.8-26-102.1M8 256a248 248 0 1 1 496 0 248 248 0 1 1-496 0m484.6 0a236.6 236.6 0 1 0-473.2 0 236.6 236.6 0 1 0 473.2 0"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.sections", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>